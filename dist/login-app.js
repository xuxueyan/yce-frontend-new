define(["angular","ngNotify","api","utils","clearClass"],function(e){var o=e.module("login",["atomic-notify","clearClass"]);return o.controller("loginController",function($scope,$http,atomicNotifyService){$scope.login=function(){var e={username:$scope.userName,password:$scope.userPassword},o=yce.api.access.login($http,e);utils.responseHandler(o,function(e){if(0==e.code){atomicNotifyService.success("登陆成功",2e3);var e=JSON.parse(e.data);localStorage.userId=e.userId,localStorage.sessionId=e.sessionId,localStorage.orgId=e.orgId,localStorage.userName=e.userName,window.location.pathname="/static/main/index.html"}else atomicNotifyService.error(e.message,2e3)},function(){atomicNotifyService.error("服务器异常",2e3)})},$scope.enterLogin=function(e){13==e.keyCode&&$scope.login()}}),o});